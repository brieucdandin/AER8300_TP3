package system
public
	
	device implementation SunSensor.impl
		properties
			Period => 100ms;
	end SunSensor.impl;
	
	device implementation GPSReceiver.impl
	end GPSReceiver.impl;
	
	device implementation Torquer.impl
	end Torquer.impl;
	
	device implementation ReactionWheel.impl
	end ReactionWheel.impl;
	
	device implementation Computer.impl
	end Computer.impl;
	
	bus CommBus1
	end CommBus1;
	
	bus CommBus2
	end CommBus2;
	
	
	system implementation Satellite.impl
		subcomponents
			sens: device SunSensor;
			act: device Torquer;
			cpu: device Computer;
			contr: process Controller;
			
		connections
			SnCpX: port sens.rot_x -> cpu.rot_x_in;
			SnCpY: port sens.rot_y -> cpu.rot_y_in;
			SnCpZ: port sens.rot_z -> cpu.rot_z_in;
			
			CpCnX: port cpu.rot_x_out -> contr.rot_x;
			CpCnY: port cpu.rot_y_out -> contr.rot_y;
			CpCnZ: port cpu.rot_z_out -> contr.rot_z;
			
			CnCpX: port contr.tor_x -> cpu.tor_x_in;
			CnCpY: port contr.tor_y -> cpu.tor_y_in;
			CnCpZ: port contr.tor_z -> cpu.tor_z_in;
			
			CpAcX: port cpu.tor_x_out -> act.tor_x;
			CpAcY: port cpu.tor_y_out -> act.tor_y;
			CpAcZ: port cpu.tor_z_out -> act.tor_z;
			
			CommSn: bus access comm <-> sens.comm;
			CommAc: bus access comm <-> act.comm;
			CommCp: bus access comm <-> cpu.comm;
	end Satellite.impl;

end system;
